<div>
    <div>
        <h1 *ngIf="!transportService.isEmpty">List of your Cars</h1>
        <h1 *ngIf="transportService.isEmpty">You didn't have any car! Please add one.</h1>
    </div>
    <div>
        <nz-table #basicTable [nzData]="transportService.list" [nzFrontPagination]="false" [nzShowPagination]="false">
            <thead>
                <tr>
                    <th>Car Company</th>
                    <th>Car Model</th>
                    <th>Plate</th>
                    <th>Color</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let car of basicTable.data">
                    <td (click)="populateForm(car)" (click)="showModal()">{{car.producedBy}}</td>
                    <td (click)="populateForm(car)" (click)="showModal()">{{car.model}}</td>
                    <td (click)="populateForm(car)" (click)="showModal()">{{car.carPlate}}</td>
                    <td>
                        <a> {{ car.color}}</a>
                        <nz-divider nzType="vertical"></nz-divider>
                    </td>
                    <td><i nz-icon nzType="delete" nzTheme="twotone" (click)="onDelete(car.id)"></i> </td>
                </tr>
            </tbody>
        </nz-table>
        <br>
    </div>
    <div>
        <div>
            <button nz-button [nzSize]="size" nzShape="round" [nzType]="'primary'" (click)="showModal()"
                (click)="resetForm(this.transportForm)">
                <span>Add Transport</span>
            </button>
        </div>
    </div>
</div>
<nz-modal [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
    (nzOnCancel)="handleCancel()">
    <ng-template #modalTitle>
        <span *ngIf="!isUpdate">Add Car</span>
        <span *ngIf="isUpdate">Update Car</span>
    </ng-template>
    <ng-template #modalContent>
        <form novalidate autocomplete="off" [formGroup]="transportForm" (ngSubmit)="onSubmit(transportForm)">
            <input type="hidden" formControlName="id" />
            <div>
                <label for="producedBy">Car Company</label>
                <nz-form-item>
                    <nz-form-control>
                        <input class="form-control form-control-lg" id="producedBy" placeholder="Car Company"
                            formControlName="producedBy" required>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div>
                <label for="model">Model</label>
                <nz-form-item>
                    <nz-form-control>
                        <input class="form-control form-control-lg" id="model" placeholder="Your Car Model"
                            formControlName="model" required>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div>
                <label for="vinCode">VIN</label>
                <nz-form-item>
                    <nz-form-control>
                        <input class="form-control form-control-lg" id="vinCode" placeholder="17 Digit Car VIN-code"
                            formControlName="vinCode" required maxlength="17" minlength="17">
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div>
                <label for="carPlate">Car Plate</label>
                <nz-form-item>
                    <nz-form-control>
                        <input class="form-control form-control-lg" id="carPlate" placeholder="Car Plate"
                            formControlName="carPlate" required>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div>
                <label for="color">Car color</label>
                <nz-form-item>
                    <nz-form-control>
                        <input class="form-control form-control-lg" id="color" placeholder="Color"
                            formControlName="color" required>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="categoryName">category belong</label>
                    <nz-form-item>
                        <nz-form-control>
                            <input class="form-control form-control-lg" id="categoryName" placeholder="Car categoty"
                                formControlName="categoryName" required>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="form-group col-md-6">
                    <label for="yearOfProduction">Car age</label>
                    <nz-form-item>
                        <nz-form-control>
                            <input class="form-control form-control-lg" id="yearOfProduction" placeholder="year"
                                formControlName="yearOfProduction" required>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div> <label>Insuarance</label> </div>
            <div class="form-row" formGroupName="insuaranceNumber">
                <div class="form-group col-md-6">
                    <label for="companyName">Name of the insurance company</label>
                    <nz-form-item>
                        <nz-form-control>
                            <input class="form-control form-control-lg" placeholder="Company Name"
                                formControlName="companyName" required>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="form-group col-md-6">
                    <label for="serialNumber">Serial number of insurance</label>
                    <nz-form-item>
                        <nz-form-control>
                            <input class="form-control form-control-lg" placeholder="Serial Number"
                                formControlName="serialNumber" required>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div nz-row>
                <button (click)="handleOk()" nz-button [nzSize]="size" nzShape="round" [nzType]="'primary'"
                    type="submit" [disabled]="transportForm.invalid">SUBMIT</button>
            </div>
        </form>
    </ng-template>
    <ng-template #modalFooter></ng-template>
</nz-modal>